{"ast":null,"code":"import { pushTransaction } from './push-transaction';\nconst {\n  YUP_CONTRACT_ACCOUNT,\n  YUP_ACCOUNT_MANAGER\n} = process.env;\nexport async function createpost(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'createpostv3',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        img_hash: data.imgHash,\n        video_hash: data.videoHash,\n        author: account.name,\n        tag: 'general',\n        timestamp: new Date().getTime(),\n        caption: data.caption\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function editpost(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'editpost',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        img_hash: data.imgHash,\n        video_hash: data.videoHash,\n        tag: 'general',\n        postid: data.postid,\n        caption: data.caption\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function deletepost(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'deletepost',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        postid: data.postid\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}","map":null,"metadata":{},"sourceType":"module"}