{"ast":null,"code":"import wallet from '../scatter/scatter.wallet';\nimport { pushTransaction } from './push-transaction';\nconst {\n  YUP_CONTRACT_ACCOUNT,\n  YUP_ACCOUNT_MANAGER\n} = process.env;\nexport async function createvote(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'createvotev3',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        voter: account.name,\n        postid: data.postid,\n        rating: data.rating,\n        like: Number(!!data.like),\n        category: data.category\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function editvote(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'editvotev2',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        voteid: data.voteid,\n        like: wallet.scatter.isExtension ? Number(!!data.like) : !!data.like,\n        rating: data.rating,\n        category: data.category\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function deletevote(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'deletevote',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        voteid: data.voteid\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}","map":null,"metadata":{},"sourceType":"module"}