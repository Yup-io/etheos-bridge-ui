{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport axios from 'axios';\nimport { useWeb3React } from '@web3-react/core';\nimport StakeButton from '../StakeButton/StakeButton';\nconst {\n  BACKEND_API\n} = process.env;\nconst BUY_LINK = '#';\nconst PROTOCOL_LINK = 'http://yup.io/';\nconst DISCORD_LINK = 'https://discord.gg/KED2nHS';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    height: '20vh',\n    width: '75%',\n    minHeight: '25%',\n    marginLeft: '10%',\n    marginTop: '5%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontFamily: 'Rubik',\n    fontSize: '10px',\n    textTransform: 'uppercase',\n    [theme.breakpoints.down('md')]: {\n      width: '82%',\n      height: '14vh',\n      marginLeft: '7%'\n    },\n    [theme.breakpoints.down('sm')]: {\n      width: '82%',\n      fontSize: '8px'\n    }\n  },\n  controllerLeft: {\n    height: '150px',\n    width: '150px',\n    position: 'relative',\n    [theme.breakpoints.down('xs')]: {\n      left: '-25px'\n    }\n  },\n  controllerRight: {\n    height: '150px',\n    width: '50%',\n    position: 'relative',\n    [theme.breakpoints.down('xs')]: {\n      left: '-25px'\n    }\n  },\n  crossCenter: {\n    backgroundColor: '#333333',\n    width: '40px',\n    height: '40px',\n    marginTop: '55px',\n    marginLeft: '55px',\n    position: 'relative',\n    [theme.breakpoints.down('sm')]: {\n      width: '30px',\n      height: '30px'\n    }\n  },\n  crossTop: {\n    backgroundColor: '#333333',\n    width: '40px',\n    height: '50px',\n    position: 'absolute',\n    borderRadius: '15%',\n    marginTop: '-45px',\n    cursor: 'pointer',\n    [theme.breakpoints.down('sm')]: {\n      width: '30px',\n      height: '40px',\n      marginTop: '-35px'\n    }\n  },\n  crossBottom: {\n    backgroundColor: '#333333',\n    width: '40px',\n    height: '50px',\n    position: 'absolute',\n    borderRadius: '15%',\n    marginTop: '35px',\n    cursor: 'pointer',\n    [theme.breakpoints.down('sm')]: {\n      width: '30px',\n      height: '40px',\n      marginTop: '25px'\n    }\n  },\n  crossLeft: {\n    backgroundColor: '#333333',\n    width: '50px',\n    height: '40px',\n    position: 'absolute',\n    borderRadius: '15%',\n    marginLeft: '-45px',\n    [theme.breakpoints.down('sm')]: {\n      width: '40px',\n      height: '30px',\n      marginLeft: '-35px'\n    }\n  },\n  crossRight: {\n    backgroundColor: '#333333',\n    width: '50px',\n    height: '40px',\n    position: 'absolute',\n    borderRadius: '15%',\n    marginLeft: '35px',\n    cursor: 'pointer',\n    [theme.breakpoints.down('sm')]: {\n      width: '40px',\n      height: '30px',\n      marginLeft: '25px'\n    }\n  },\n  rightButtons: {\n    position: 'absolute',\n    width: '70px',\n    height: '40px',\n    marginTop: '50px',\n    marginLeft: '50px',\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.down('sm')]: {\n      marginTop: '40px',\n      marginLeft: '40px'\n    }\n  },\n  unstake: {\n    position: 'absolute',\n    width: '35px',\n    height: '35px',\n    borderRadius: '50%',\n    cursor: 'pointer',\n    borderWidth: '3px',\n    '&:focus': {\n      outline: 'thin dotted'\n    },\n    [theme.breakpoints.down('xs')]: {\n      width: '25px',\n      height: '25px'\n    }\n  },\n  stake: {\n    position: 'absolute',\n    width: '60px',\n    height: '60px',\n    borderRadius: '50%',\n    marginLeft: '70px',\n    border: 'solid 6px #029474',\n    cursor: 'pointer',\n    top: '-10px',\n    '&:focus': {\n      outline: 'thin dotted'\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: '60px'\n    },\n    [theme.breakpoints.down('xs')]: {\n      width: '50px',\n      height: '50px',\n      marginLeft: '40px',\n      top: '-5px'\n    }\n  },\n  linkTwitter: {\n    position: 'absolute',\n    height: '60px',\n    width: '60px',\n    marginLeft: '150px',\n    borderRadius: '50%',\n    border: 'solid 6px #227D99',\n    backgroundColor: '#2B9DC0',\n    cursor: 'pointer',\n    '&:focus': {\n      outline: 'thin dotted'\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: '135px'\n    },\n    [theme.breakpoints.down('xs')]: {\n      width: '50px',\n      height: '50px',\n      marginLeft: '100px'\n    }\n  },\n  unstakeText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    top: '35px',\n    left: '-14px',\n    fontSize: '0.6rem',\n    textTransform: 'uppercase',\n    [theme.breakpoints.down('sm')]: {\n      left: '-15px'\n    },\n    [theme.breakpoints.down('xs')]: {\n      left: '-18px'\n    }\n  },\n  stakeText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    top: '45px',\n    fontSize: '0.7rem',\n    textTransform: 'uppercase',\n    [theme.breakpoints.down('sm')]: {\n      left: '0px'\n    },\n    [theme.breakpoints.down('xs')]: {\n      left: '-5px'\n    }\n  },\n  linkTwitterText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    width: '55px',\n    top: '55px',\n    left: '-10px',\n    fontSize: '0.7rem',\n    textTransform: 'uppercase',\n    [theme.breakpoints.down('xs')]: {\n      left: '-15px'\n    }\n  },\n  buyText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    top: '-30px',\n    left: '15px',\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    },\n    [theme.breakpoints.down('sm')]: {\n      top: '-20px',\n      left: '10px'\n    }\n  },\n  infoText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    left: '40px',\n    top: '10px',\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    },\n    [theme.breakpoints.down('sm')]: {\n      left: '30px'\n    }\n  },\n  discordText: {\n    color: '#F7F7F7',\n    position: 'relative',\n    top: '55px',\n    left: '-30px',\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    },\n    [theme.breakpoints.down('sm')]: {\n      top: '40px',\n      left: '-20px'\n    }\n  }\n}));\n\nconst ControllerButtons = () => {\n  const classes = useStyles();\n  const {\n    account\n  } = useWeb3React();\n  const [staked, setStaked] = useState(false);\n  const tokenAddress = '0xc2118d4d90b274016cB7a54c03EF52E6c537D957';\n  const toAddress = '0x1AFa7C0703bE5489087dd106dce466B795376Fa0';\n  const decimals = web3.utils.toBN(18); // send 100 tokens by default\n\n  const transferAmount = web3.utils.toBN(100);\n  const contract = new web3.eth.Contract(TransferABI, tokenAddress);\n  const value = transferAmount.mul(web3.utils.toBN(10).pow(decimals));\n\n  const sendToken = () => {\n    try {\n      contract.methods.transfer(toAddress, value).send({\n        from: account\n      }).on('transactionHash', function (hash) {\n        console.log(hash);\n      });\n    } catch (e) {\n      console.log('error with staking request: ', e);\n    }\n  };\n\n  const handleUnstake = () => {\n    useEffect(() => {\n      setStaked(false);\n    });\n  };\n\n  const handleStake = () => {\n    useEffect(() => {\n      setStaked(true);\n    });\n  };\n\n  const startTwitterOAuth = async () => {\n    try {\n      const oauthRes = await axios.post(`${BACKEND_API}/v1/auth/oauth-challenge`, {\n        domain: 'yup.io'\n      });\n      const {\n        token,\n        _id: id\n      } = oauthRes.data;\n      const twitterRes = await axios.post(`${BACKEND_API}/v1/auth/twitter`, {\n        verificationToken: token,\n        verificationId: id,\n        oauthReferrer: 'website'\n      });\n      window.open(twitterRes.data.redirectPath);\n    } catch (err) {\n      console.error('Error occured during Twitter OAuth: ', err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.controllerLeft\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.crossCenter\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.crossTop\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.crossBottom\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.crossLeft\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.crossRight\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: BUY_LINK,\n    className: classes.buyText\n  }, \"Buy\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: PROTOCOL_LINK,\n    className: classes.infoText\n  }, \"Info\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: DISCORD_LINK,\n    className: classes.discordText\n  }, \"Discord\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.controllerRight\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.rightButtons\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.unstake,\n    style: {\n      backgroundColor: staked.current ? '#FF4040' : '#333333',\n      border: staked.current ? 'solid 3px #CC3333' : ''\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.unstakeText\n  }, \"Unstake\")), /*#__PURE__*/React.createElement(StakeButton, {\n    classes: classes,\n    account: account,\n    staked: staked\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.linkTwitter,\n    onClick: () => {\n      startTwitterOAuth();\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.linkTwitterText\n  }, \"Link Twitter\")))));\n};\n\nexport default ControllerButtons;","map":null,"metadata":{},"sourceType":"module"}