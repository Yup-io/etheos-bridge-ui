{"ast":null,"code":"import { pushTransaction } from './push-transaction';\nconst {\n  YUP_CONTRACT_ACCOUNT,\n  YUP_ACCOUNT_MANAGER\n} = process.env;\nexport async function createcomment(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'createcomv2',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        postid: data.postid,\n        author: account.name,\n        timestamp: new Date().getTime(),\n        comment: data.comment\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function editcomment(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'editcom',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        commentid: data.commentid,\n        comment: data.comment,\n        edit_timestamp: new Date().getTime()\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function deletecomment(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'deletecom',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        commentid: data.commentid\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}","map":null,"metadata":{},"sourceType":"module"}