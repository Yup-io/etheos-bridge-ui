{"ast":null,"code":"import { pushTransaction } from './push-transaction';\nconst {\n  YUPX_TOKEN_ACCOUNT,\n  YUP_CONTRACT_ACCOUNT,\n  YUP_ACCOUNT_MANAGER,\n  YUP_BRIDGE\n} = process.env;\nexport async function transfer(account, data) {\n  const normalizedAmount = `${Number(data.amount).toFixed(4)} ${data.asset}`;\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: data.asset === 'YUP/ETH LP' ? 'lptoken.yup' : YUPX_TOKEN_ACCOUNT,\n      name: 'transfer',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        from: account.name,\n        to: YUP_BRIDGE,\n        quantity: normalizedAmount,\n        memo: data.recipient\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function createacct(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'createacct',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        owner: data.username,\n        eosname: account.name,\n        bio: data.bio,\n        avatar: data.avatar,\n        username: data.username\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}\nexport async function editacct(account, data) {\n  const tx = {\n    actions: [{\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'noop',\n      authorization: [{\n        actor: YUP_ACCOUNT_MANAGER,\n        permission: 'active'\n      }],\n      data: {}\n    }, {\n      account: YUP_CONTRACT_ACCOUNT,\n      name: 'editacct',\n      authorization: [{\n        actor: account.name,\n        permission: account.authority\n      }],\n      data: {\n        owner: account.name,\n        fullname: data.fullname || '',\n        bio: data.bio || '',\n        avatar: data.avatar || ''\n      }\n    }]\n  };\n  const txStatus = await pushTransaction(tx);\n  return txStatus;\n}","map":null,"metadata":{},"sourceType":"module"}