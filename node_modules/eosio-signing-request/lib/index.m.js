import{TypeAlias as t,Variant as e,Checksum256 as r,UInt8 as n,Struct as i,PermissionLevel as a,Action as o,Transaction as s,Name as c,Bytes as u,Serializer as f,ABI as d,TimePointSec as l,UInt16 as h,UInt32 as p,Signature as v,ABIEncoder as y,ABIDecoder as b}from"@greymass/eosio";function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return I(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}for(var S,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",O=new Uint8Array(256),q=0;q<64;q++)O[x.charCodeAt(q)]=q;function A(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.EOS=1]="EOS",t[t.TELOS=2]="TELOS",t[t.JUNGLE=3]="JUNGLE",t[t.KYLIN=4]="KYLIN",t[t.WORBLI=5]="WORBLI",t[t.BOS=6]="BOS",t[t.MEETONE=7]="MEETONE",t[t.INSIGHTS=8]="INSIGHTS",t[t.BEOS=9]="BEOS",t[t.WAX=10]="WAX",t[t.PROTON=11]="PROTON",t[t.FIO=12]="FIO"}(S||(S={}));var N=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e.from=function(e){if(e instanceof this)return e;if("number"==typeof e&&!(e=j.get(e)))throw new Error("Unknown chain id alias");return t.from.call(this,e)},m(e,[{key:"chainVariant",get:function(){var t=this.chainName;return T.from(t!==S.UNKNOWN?["chain_alias",t]:this)}},{key:"chainName",get:function(){for(var t,e=this.hexString,r=k(j);!(t=r()).done;){var n=t.value;if(n[1]===e)return n[0]}return S.UNKNOWN}}]),e}(r);N=A([t("chain_id")],N);var E=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(n);E=A([t("chain_alias")],E);var T=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),m(e,[{key:"chainId",get:function(){return this.value instanceof N?this.value:N.from(this.value.value)}}]),e}(e);T=A([e.type("variant_id",[E,N])],T);var P,j=new Map([[S.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[S.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[S.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[S.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[S.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[S.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[S.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[S.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[S.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[S.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[S.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[S.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]),R=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(c);R=A([t("account_name")],R);var B=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(c);B=A([t("permission_name")],B);var M=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field(a,{optional:!0})],M.prototype,"permission",void 0),M=A([i.type("identity")],M);var D=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field("name")],D.prototype,"scope",void 0),A([i.field(a,{optional:!0})],D.prototype,"permission",void 0),D=A([i.type("identity")],D);var L=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(e);L=A([e.type("variant_req",[o,{type:o,array:!0},s,M])],L);var z=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(e);z=A([e.type("variant_req",[o,{type:o,array:!0},s,D])],z);var C=P=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e.prototype.setFlag=function(t,e){e?this.value|=t:this.value&=~t},m(e,[{key:"broadcast",get:function(){return 0!=(this.value&P.broadcast)},set:function(t){this.setFlag(P.broadcast,t)}},{key:"background",get:function(){return 0!=(this.value&P.background)},set:function(t){this.setFlag(P.background,t)}}]),e}(n);C.broadcast=1,C.background=2,C=P=A([t("request_flags")],C);var U=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field("string")],U.prototype,"key",void 0),A([i.field("bytes")],U.prototype,"value",void 0),U=A([i.type("info_pair")],U);var K=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field(T)],K.prototype,"chain_id",void 0),A([i.field(L)],K.prototype,"req",void 0),A([i.field(C)],K.prototype,"flags",void 0),A([i.field("string")],K.prototype,"callback",void 0),A([i.field(U,{array:!0})],K.prototype,"info",void 0),K=A([i.type("signing_request")],K);var W=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field(T)],W.prototype,"chain_id",void 0),A([i.field(z)],W.prototype,"req",void 0),A([i.field(C)],W.prototype,"flags",void 0),A([i.field("string")],W.prototype,"callback",void 0),A([i.field(U,{array:!0})],W.prototype,"info",void 0),W=A([i.type("signing_request")],W);var J=function(t){function e(){return t.apply(this,arguments)||this}return w(e,t),e}(i);A([i.field("name")],J.prototype,"signer",void 0),A([i.field("signature")],J.prototype,"signature",void 0),J=A([i.type("request_signature")],J);var F=3,G=c.from("............1"),V=c.from("............2"),H=a.from({actor:G,permission:V}),X=function(){function t(t,e,r,n,i){if(e.flags.broadcast&&"identity"===e.req.variantName)throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,this.data=e,this.zlib=r,this.abiProvider=n,this.signature=i}t.identityAbi=function(t){var e=f.synthesize(this.identityType(t));return e.actions=[{name:"identity",type:"identity",ricardian_contract:""}],e},t.identityType=function(t){return 2===t?M:D},t.storageType=function(t){return 2===t?K:W},t.create=function(t,e){void 0===e&&(e={});try{var r=function(r){return n.createSync(t,e,a)},n=this,i=(t.action?[t.action]:t.actions?t.actions:t.transaction&&t.transaction.actions||[]).filter(function(t){return!u.isBytes(t.data)&&void 0===t.data.constructor.abiName}).map(function(t){return c.from(t.account)}),a={},o=function(){if(i.length>0){var t=e.abiProvider;if(!t)throw new Error("Missing abi provider");return Promise.resolve(Promise.all(i.map(function(e){return t.getAbi(e)}))).then(function(t){for(var e,r=k(t.entries());!(e=r()).done;){var n=e.value,o=n[1];a[i[n[0]].toString()]=o}})}}();return Promise.resolve(o&&o.then?o.then(r):r())}catch(t){return Promise.reject(t)}},t.createSync=function(e,r,n){void 0===r&&(r={}),void 0===n&&(n={});var i=2,a={},s=function(t){return function(t,e){if(u.isBytes(t.data)||void 0!==t.data.constructor.abiName)return o.from(t);var r=e[String(c.from(t.account))];if(!r)throw new Error("Missing abi for "+t.account);return o.from(t,r)}(t,n)};if(null===e.chainId&&(i=3),void 0!==e.identity)e.identity.scope&&(i=3),a.req=["identity",this.identityType(i).from(e.identity)];else if(!e.action||e.actions||e.transaction)if(!e.actions||e.action||e.transaction){if(!e.transaction||e.action||e.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");var d=e.transaction;void 0===d.expiration&&(d.expiration="1970-01-01T00:00:00.000"),void 0===d.ref_block_num&&(d.ref_block_num=0),void 0===d.ref_block_prefix&&(d.ref_block_prefix=0),void 0===d.context_free_actions&&(d.context_free_actions=[]),void 0===d.transaction_extensions&&(d.transaction_extensions=[]),void 0===d.delay_sec&&(d.delay_sec=0),void 0===d.max_cpu_usage_ms&&(d.max_cpu_usage_ms=0),void 0===d.max_net_usage_words&&(d.max_net_usage_words=0),void 0===d.actions&&(d.actions=[]),void 0===d.context_free_actions&&(d.context_free_actions=[]),d.actions=d.actions.map(s),a.req=["transaction",d]}else a.req=1===e.actions.length?["action",s(e.actions[0])]:["action[]",e.actions.map(s)];else a.req=["action",s(e.action)];a.chain_id=null===e.chainId?T.from(["chain_alias",0]):N.from(e.chainId||S.EOS).chainVariant;var l=C.from(0),h="";if(l.broadcast=void 0!==e.broadcast?e.broadcast:"identity"!==a.req[0],"string"==typeof e.callback?h=e.callback:"object"==typeof e.callback&&(h=e.callback.url,l.background=e.callback.background||!1),a.flags=l,a.callback=h,a.info=[],"object"==typeof e.info)for(var p in e.info)if(Object.prototype.hasOwnProperty.call(e.info,p)){var v=e.info[p];v instanceof u||(v=f.encode({object:v})),a.info.push({key:p,value:v})}if(e.chainIds&&null===e.chainId){var y=e.chainIds.map(function(t){return N.from(t).chainVariant});a.info.push({key:"chain_ids",value:f.encode({object:y,type:{type:T,array:!0}})})}var b=new t(i,this.storageType(i).from(a),r.zlib,r.abiProvider);return r.signatureProvider&&b.sign(r.signatureProvider),b},t.identity=function(t,e){void 0===e&&(e={});var r={actor:t.account||G,permission:t.permission||V};return r.actor===G&&r.permission===V&&(r=void 0),this.createSync(_({},t,{identity:{permission:r,scope:t.scope},broadcast:!1}),e)},t.fromTransaction=function(e,r,n){void 0===n&&(n={});var i=N.from(e);r=u.from(r);var a=new y;return a.writeByte(2),a.writeArray(f.encode({object:i.chainVariant}).array),a.writeByte(2),a.writeArray(u.from(r).array),a.writeByte(C.broadcast),a.writeByte(0),a.writeByte(0),t.fromData(a.getData(),n)},t.from=function(e,r){if(void 0===r&&(r={}),"string"!=typeof e)throw new Error("Invalid request uri");var n=e.split(":"),i=n[0],a=n[1];if("esr"!==i&&"web+esr"!==i)throw new Error("Invalid scheme");var o=function(t){for(var e,r,n,i,a=new Uint8Array(.75*t.length),o=0,s=0;s<t.length;s+=4)e=O[t.charCodeAt(s)],r=O[t.charCodeAt(s+1)],n=O[t.charCodeAt(s+2)],i=O[t.charCodeAt(s+3)],a[o++]=e<<2|r>>4,a[o++]=(15&r)<<4|n>>2,a[o++]=(3&n)<<6|63&i;return a}(a.startsWith("//")?a.slice(2):a);return t.fromData(o,r)},t.fromData=function(e,r){void 0===r&&(r={});var n=(e=u.from(e)).array[0],i=-129&n;if(2!==i&&3!==i)throw new Error("Unsupported protocol version");var a=e.droppingFirst(1);if(0!=(128&n)){if(!r.zlib)throw new Error("Compressed URI needs zlib");a=u.from(r.zlib.inflateRaw(a.array))}var o,s=new b(a.array),c=f.decode({data:s,type:this.storageType(i)});return s.canRead()&&(o=f.decode({data:s,type:J})),new t(i,c,r.zlib,r.abiProvider,o)};var e=t.prototype;return e.sign=function(t){var e=this.getSignatureDigest();this.signature=J.from(t.sign(e))},e.getSignatureDigest=function(){var t=[this.version,114,101,113,117,101,115,116];return(new u).appending(t).appending(this.getData()).sha256Digest},e.setSignature=function(t,e){this.signature=J.from({signer:t,signature:e})},e.setCallback=function(t,e){this.data.callback=t,this.data.flags.background=e},e.setBroadcast=function(t){this.data.flags.broadcast=t},e.encode=function(t,e){var r=void 0!==t?t:void 0!==this.zlib;if(r&&void 0===this.zlib)throw new Error("Need zlib to compress");var n=this.version,i=this.getData(),a=this.getSignatureData(),o=new Uint8Array(i.byteLength+a.byteLength);if(o.set(i,0),o.set(a,i.byteLength),r){var s=this.zlib.deflateRaw(o);o.byteLength>s.byteLength&&(n|=128,o=s)}var c=new Uint8Array(1+o.byteLength);c[0]=n,c.set(o,1);var u="esr:";return!1!==e&&(u+="//"),u+function(t){for(var e,r=t.byteLength,n=r%3,i=r-n,a=[],o=0;o<i;o+=3)a.push(x[(16515072&(e=t[o]<<16|t[o+1]<<8|t[o+2]))>>18]+x[(258048&e)>>12]+x[(4032&e)>>6]+x[63&e]);return 1===n?a.push(x[(252&(e=t[i]))>>2]+x[(3&e)<<4]):2===n&&a.push(x[(64512&(e=t[i]<<8|t[i+1]))>>10]+x[(1008&e)>>4]+x[(15&e)<<2]),a.join("")}(c)},e.getData=function(){return f.encode({object:this.data}).array},e.getSignatureData=function(){return this.signature?f.encode({object:this.signature}).array:new Uint8Array(0)},e.getRequiredAbis=function(){return this.getRawActions().filter(function(t){return!Q(t)}).map(function(t){return t.account}).filter(function(t,e,r){return r.indexOf(t)===e})},e.requiresTapos=function(){var t=this.getRawTransaction();return!this.isIdentity()&&!Z(t)},e.fetchAbis=function(t){try{var e=this.getRequiredAbis();if(e.length>0){var r=t||this.abiProvider;if(!r)throw new Error("Missing ABI provider");var n=new Map;return Promise.resolve(Promise.all(e.map(function(t){try{var e=n.set,i=t.toString(),a=d.from;return Promise.resolve(r.getAbi(t)).then(function(t){e.call(n,i,a.call(d,t))})}catch(t){return Promise.reject(t)}}))).then(function(){return n})}return Promise.resolve(new Map)}catch(t){return Promise.reject(t)}},e.resolveActions=function(t,e){var r=this;return this.getRawActions().map(function(n){var i;if(Q(n))i=r.constructor.identityAbi(r.version);else{var o=t.get(n.account.toString());if(!o)throw new Error("Missing ABI definition for "+n.account);i=d.from(o)}if(!i.getActionType(n.name))throw new Error("Missing type for action "+n.account+":"+n.name+" in ABI");var s=n.decodeData(i),u=n.authorization;if(e){var f=a.from(e);s=function t(e){if(e instanceof c)return e.equals(G)?f.actor:e.equals(V)?f.permission:e;if(Array.isArray(e))return e.map(t);if("object"==typeof e&&null!==e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];e[i]=t(e[i])}return e}return e}(s),u=u.map(function(t){var e=t.actor,r=t.permission;return e.equals(G)&&(e=f.actor),r.equals(V)&&(r=f.permission),r.equals(G)&&(r=f.permission),a.from({actor:e,permission:r})})}return _({},n,{authorization:u,data:s})})},e.resolveTransaction=function(t,e,r){void 0===r&&(r={});var n=this.getRawTransaction();if(this.isIdentity()||Z(n))this.isIdentity()&&this.version>2&&(n.expiration=r.expiration?l.from(r.expiration):$(r.timestamp,r.expire_seconds));else if(void 0!==r.expiration&&void 0!==r.ref_block_num&&void 0!==r.ref_block_prefix)n.expiration=l.from(r.expiration),n.ref_block_num=h.from(r.ref_block_num),n.ref_block_prefix=p.from(r.ref_block_prefix);else{if(void 0===r.block_num||void 0===r.ref_block_prefix||void 0===r.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");n.expiration=$(r.timestamp,r.expire_seconds),n.ref_block_num=h.from(r.block_num),n.ref_block_prefix=p.from(r.ref_block_prefix)}var i=this.resolveActions(t,e);return _({},n,{context_free_actions:n.context_free_actions,actions:i})},e.resolve=function(t,e,r){var n=this;void 0===r&&(r={});var i,c=this.resolveTransaction(t,e,r),u=c.actions.map(function(e){var r;if(!(r=Q(e)?n.constructor.identityAbi(n.version):t.get(e.account.toString())))throw new Error("Missing ABI definition for "+e.account);var i=r.getActionType(e.name),a=f.encode({object:e.data,type:i,abi:r});return o.from(_({},e,{data:a}))}),d=s.from(_({},c,{actions:u}));if(this.isMultiChain()){if(!r.chainId)throw new Error("Missing chosen chain ID for multi-chain request");i=N.from(r.chainId);var l=this.getChainIds();if(l&&!l.some(function(t){return i.equals(t)}))throw new Error("Trying to resolve for chain ID not defined in request")}else i=this.getChainId();return new Y(this,a.from(e),d,c,i)},e.getChainId=function(){return this.data.chain_id.chainId},e.getChainIds=function(){if(!this.isMultiChain())return null;var t=this.getInfoKey("chain_ids",{type:T,array:!0});return t?t.map(function(t){return t.chainId}):null},e.setChainIds=function(t){var e=t.map(function(t){return N.from(t).chainVariant});this.setInfoKey("chain_ids",e,{type:T,array:!0})},e.isMultiChain=function(){return 0===this.data.chain_id.variantIdx&&this.data.chain_id.value.value===S.UNKNOWN},e.getRawActions=function(){var t=this.data.req;switch(t.variantName){case"action":return[t.value];case"action[]":return t.value;case"identity":if(2===this.version){var e=t.value,r="0101000000000000000200000000000000",n=[H];return e.permission&&(r=f.encode({object:e}),n=[e.permission]),[o.from({account:"",name:"identity",authorization:n,data:r})]}var i=t.value,a=i.permission;a||(a=H);var s=f.encode({object:{scope:i.scope,permission:a},type:D});return[o.from({account:"",name:"identity",authorization:[a],data:s})];case"transaction":return t.value.actions;default:throw new Error("Invalid signing request data")}},e.getRawTransaction=function(){var t=this.data.req;switch(t.variantName){case"transaction":return s.from(_({},t.value));case"action":case"action[]":case"identity":return s.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}},e.isIdentity=function(){return"identity"===this.data.req.variantName},e.shouldBroadcast=function(){return!this.isIdentity()&&this.data.flags.broadcast},e.getIdentity=function(){if(!this.isIdentity())return null;var t=this.data.req.value;return t.permission&&!t.permission.actor.equals(G)?t.permission.actor:null},e.getIdentityPermission=function(){if(!this.isIdentity())return null;var t=this.data.req.value;return t.permission&&!t.permission.permission.equals(V)?t.permission.permission:null},e.getIdentityScope=function(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope},e.getRawInfo=function(){for(var t,e={},r=k(this.data.info);!(t=r()).done;){var n=t.value;e[n.key]=n.value}return e},e.getRawInfoKey=function(t){var e=this.data.info.find(function(e){return e.key===t});if(e)return e.value},e.setRawInfoKey=function(t,e){var r=this.data.info.find(function(e){return e.key===t});r?r.value=u.from(e):(r=U.from({key:t,value:e}),this.data.info.push(r))},e.setInfoKey=function(t,e,r){this.setRawInfoKey(t,f.encode({object:e,type:r}))},e.getInfoKey=function(t,e){var r=this.getRawInfoKey(t);if(r)return f.decode({data:r,type:e})},e.clone=function(){var e;this.signature&&(e=J.from(JSON.parse(JSON.stringify(this.signature))));var r=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new t(this.version,r,this.zlib,this.abiProvider,e)},e.toString=function(){return this.encode()},e.toJSON=function(){return this.encode()},t}(),Y=function(){function t(t,e,r,n,i){this.request=t,this.signer=e,this.transaction=r,this.resolvedTransaction=n,this.chainId=i}return t.fromPayload=function(t,e){void 0===e&&(e={});try{var r=X.from(t.req,e);return Promise.resolve(r.fetchAbis()).then(function(e){return r.resolve(e,{actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid})})}catch(t){return Promise.reject(t)}},t.prototype.getCallback=function(t,e){var r=this.request.data,n=r.callback,i=r.flags;if(!n||0===n.length)return null;if(!t||0===t.length)throw new Error("Must have at least one signature to resolve callback");for(var a,o=t.map(function(t){return v.from(t)}),s={sig:String(o[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)},c=k(o.slice(1).entries());!(a=c()).done;){var u=a.value;s["sig"+u[0]]=String(u[1])}e&&(s.bn=String(p.from(e)));var f=n.replace(/({{([a-z0-9]+)}})/g,function(t,e,r){return s[r]||""});return{background:i.background,payload:s,url:f}},m(t,[{key:"serializedTransaction",get:function(){return f.encode({object:this.transaction}).array}},{key:"signingDigest",get:function(){return this.transaction.signingDigest(this.chainId)}}]),t}();function Q(t){var e=c.from(t.account),r=c.from(t.name);return e.rawValue.equals(0)&&r.equals("identity")}function Z(t){return!(0===t.expiration.value.value&&0===t.ref_block_num.value&&0===t.ref_block_prefix.value)}function $(t,e){void 0===e&&(e=60);var r=l.from(t||new Date),n=p.from(e);return l.fromMilliseconds(r.toMilliseconds()+1e3*n.value)}export{R as AccountName,E as ChainAlias,N as ChainId,T as ChainIdVariant,S as ChainName,M as IdentityV2,D as IdentityV3,U as InfoPair,B as PermissionName,H as PlaceholderAuth,G as PlaceholderName,V as PlaceholderPermission,F as ProtocolVersion,K as RequestDataV2,W as RequestDataV3,C as RequestFlags,J as RequestSignature,L as RequestVariantV2,z as RequestVariantV3,Y as ResolvedSigningRequest,X as SigningRequest};
//# sourceMappingURL=index.m.js.map
