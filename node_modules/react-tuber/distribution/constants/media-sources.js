"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mediaSources = [
    {
        name: "YouTube",
        structures: ["youtube", "youtu"],
        type: "iframe",
        toEmbeddedSrc: (src, autoplay) => "https://www.youtube.com/embed/" +
            (src.indexOf("embed") !== -1
                ? src.split(/embed\//)[1].split('"')[0]
                : src.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]) +
            "?e=e" +
            (autoplay === true ? "&autoplay=1" : "") +
            "&rel=0&amp;controls=1&amp;showinfo=0"
    },
    {
        name: "Vimeo",
        structures: ["vimeo"],
        type: "iframe",
        toEmbeddedSrc: (src, autoplay) => "https://player.vimeo.com/video/" +
            src.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0] +
            (autoplay === true ? "?autoplay=1" : "")
    },
    {
        name: "Daily Motion",
        structures: ["dailymotion", "dai.ly"],
        type: "iframe",
        toEmbeddedSrc: (src, autoplay) => {
            const _regex = /^.+dailymotion.com\/((video|hub)\/([^_]+))?[^#]*(#video=([^_&]+))?/;
            const _matches = src.match(_regex);
            return ("https://www.dailymotion.com/embed/video/" +
                (_matches ? _matches[5] || _matches[3] : ""));
        }
    },
    {
        name: "Spotify",
        structures: ["spotify"],
        type: "iframe",
        toEmbeddedSrc: (src, autoplay) => "https://open.spotify.com/embed?uri=" + src
    },
    {
        name: "Giphy",
        structures: ["giphy"],
        type: "img",
        toEmbeddedSrc: (src, autoplay) => "https://media.giphy.com/media/" +
            (src.split("-").pop() || "").split("/")[0] +
            "/giphy.gif"
    }
];
